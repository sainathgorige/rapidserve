{"uuid": "b491cd94-51cf-48b0-a743-4b9544cb9e68", "counter": 25, "stdout": "\u001b[0;33mchanged: [192.168.38.8] => (item=ga_in_S2) => {\"ansible_loop_var\": \"item\", \"changed\": true, \"cmd\": \"set -x\\nshort_name_prefix=\\\"$(echo 'ga_in_container1' | cut -c1-8)\\\"\\nshort_name_suffix=\\\"$(echo 'ga_in_container1' | rev | cut -c1-2 | rev)\\\"\\nshort_name=\\\"${short_name_prefix}_${short_name_suffix}\\\"\\n#short_name=\\\"$(echo 'ga_in_container1' | cut -c1-8)_$(echo 'ga_in_container1' | rev | cut -c1-2 | rev)\\\"\\n# Create veth pair for bridge\\nip link add ${short_name} type veth peer name v_${short_name}\\n# Bring up veth peer in host namespace for bridge\\nip link set v_${short_name} up\\n# Attach veth interface to the bridge\\nip link set v_${short_name} master ga_in_S2_br\\n# Assign container network interface to veth\\nip link set ${short_name} netns 'ga_in_container1'\\n# Bring up container network interface in container namespace for bridge\\nip netns exec 'ga_in_container1' ip link set ${short_name} up\\n# Start dhclient on container interface (Optional based on setup)\\ndocker exec 'ga_in_container1' dhclient ${short_name}\\n\", \"delta\": \"0:00:26.342457\", \"end\": \"2024-04-26 00:33:49.172555\", \"failed_when_result\": false, \"item\": \"ga_in_S2\", \"msg\": \"\", \"rc\": 0, \"start\": \"2024-04-26 00:33:22.830098\", \"stderr\": \"+ echo ga_in_container1\\n+ cut -c1-8\\n+ short_name_prefix=ga_in_co\\n+ echo ga_in_container1\\n+ rev\\n+ cut -c1-2\\n+ rev\\n+ short_name_suffix=r1\\n+ short_name=ga_in_co_r1\\n+ ip link add ga_in_co_r1 type veth peer name v_ga_in_co_r1\\nRTNETLINK answers: File exists\\n+ ip link set v_ga_in_co_r1 up\\n+ ip link set v_ga_in_co_r1 master ga_in_S2_br\\n+ ip link set ga_in_co_r1 netns ga_in_container1\\nCannot find device \\\"ga_in_co_r1\\\"\\n+ ip netns exec ga_in_container1 ip link set ga_in_co_r1 up\\n+ docker exec ga_in_container1 dhclient ga_in_co_r1\\nhostname: you must be root to change the host name\", \"stderr_lines\": [\"+ echo ga_in_container1\", \"+ cut -c1-8\", \"+ short_name_prefix=ga_in_co\", \"+ echo ga_in_container1\", \"+ rev\", \"+ cut -c1-2\", \"+ rev\", \"+ short_name_suffix=r1\", \"+ short_name=ga_in_co_r1\", \"+ ip link add ga_in_co_r1 type veth peer name v_ga_in_co_r1\", \"RTNETLINK answers: File exists\", \"+ ip link set v_ga_in_co_r1 up\", \"+ ip link set v_ga_in_co_r1 master ga_in_S2_br\", \"+ ip link set ga_in_co_r1 netns ga_in_container1\", \"Cannot find device \\\"ga_in_co_r1\\\"\", \"+ ip netns exec ga_in_container1 ip link set ga_in_co_r1 up\", \"+ docker exec ga_in_container1 dhclient ga_in_co_r1\", \"hostname: you must be root to change the host name\"], \"stdout\": \"\", \"stdout_lines\": []}\u001b[0m", "start_line": 24, "end_line": 25, "runner_ident": "63a9eea5-b32d-40b2-9a9f-92e1a48bcc8e", "event": "runner_item_on_ok", "pid": 1176071, "created": "2024-04-26T00:33:49.255568", "parent_uuid": "52540038-3809-dd07-1870-00000000000a", "event_data": {"playbook": "/home/vmadm/demo/RapidServe/southbound/deploy_con.yaml", "playbook_uuid": "acaddcf7-677b-4226-81bd-b8c37a99055d", "play": "Deploy Infrastructure with Docker Containers for Edge and Origin Servers", "play_uuid": "52540038-3809-dd07-1870-000000000002", "play_pattern": "hostvms", "task": "Configure network interfaces and veth pairs", "task_uuid": "52540038-3809-dd07-1870-00000000000a", "task_action": "shell", "resolved_action": "ansible.builtin.shell", "task_args": "", "task_path": "/home/vmadm/demo/RapidServe/southbound/deploy_con.yaml:77", "host": "192.168.38.8", "res": {"changed": true, "stdout": "", "stderr": "+ echo ga_in_container1\n+ cut -c1-8\n+ short_name_prefix=ga_in_co\n+ echo ga_in_container1\n+ rev\n+ cut -c1-2\n+ rev\n+ short_name_suffix=r1\n+ short_name=ga_in_co_r1\n+ ip link add ga_in_co_r1 type veth peer name v_ga_in_co_r1\nRTNETLINK answers: File exists\n+ ip link set v_ga_in_co_r1 up\n+ ip link set v_ga_in_co_r1 master ga_in_S2_br\n+ ip link set ga_in_co_r1 netns ga_in_container1\nCannot find device \"ga_in_co_r1\"\n+ ip netns exec ga_in_container1 ip link set ga_in_co_r1 up\n+ docker exec ga_in_container1 dhclient ga_in_co_r1\nhostname: you must be root to change the host name", "rc": 0, "cmd": "set -x\nshort_name_prefix=\"$(echo 'ga_in_container1' | cut -c1-8)\"\nshort_name_suffix=\"$(echo 'ga_in_container1' | rev | cut -c1-2 | rev)\"\nshort_name=\"${short_name_prefix}_${short_name_suffix}\"\n#short_name=\"$(echo 'ga_in_container1' | cut -c1-8)_$(echo 'ga_in_container1' | rev | cut -c1-2 | rev)\"\n# Create veth pair for bridge\nip link add ${short_name} type veth peer name v_${short_name}\n# Bring up veth peer in host namespace for bridge\nip link set v_${short_name} up\n# Attach veth interface to the bridge\nip link set v_${short_name} master ga_in_S2_br\n# Assign container network interface to veth\nip link set ${short_name} netns 'ga_in_container1'\n# Bring up container network interface in container namespace for bridge\nip netns exec 'ga_in_container1' ip link set ${short_name} up\n# Start dhclient on container interface (Optional based on setup)\ndocker exec 'ga_in_container1' dhclient ${short_name}\n", "start": "2024-04-26 00:33:22.830098", "end": "2024-04-26 00:33:49.172555", "delta": "0:00:26.342457", "msg": "", "invocation": {"module_args": {"_raw_params": "set -x\nshort_name_prefix=\"$(echo 'ga_in_container1' | cut -c1-8)\"\nshort_name_suffix=\"$(echo 'ga_in_container1' | rev | cut -c1-2 | rev)\"\nshort_name=\"${short_name_prefix}_${short_name_suffix}\"\n#short_name=\"$(echo 'ga_in_container1' | cut -c1-8)_$(echo 'ga_in_container1' | rev | cut -c1-2 | rev)\"\n# Create veth pair for bridge\nip link add ${short_name} type veth peer name v_${short_name}\n# Bring up veth peer in host namespace for bridge\nip link set v_${short_name} up\n# Attach veth interface to the bridge\nip link set v_${short_name} master ga_in_S2_br\n# Assign container network interface to veth\nip link set ${short_name} netns 'ga_in_container1'\n# Bring up container network interface in container namespace for bridge\nip netns exec 'ga_in_container1' ip link set ${short_name} up\n# Start dhclient on container interface (Optional based on setup)\ndocker exec 'ga_in_container1' dhclient ${short_name}\n", "_uses_shell": true, "stdin_add_newline": true, "strip_empty_ends": true, "argv": null, "chdir": null, "executable": null, "creates": null, "removes": null, "stdin": null}}, "stdout_lines": [], "stderr_lines": ["+ echo ga_in_container1", "+ cut -c1-8", "+ short_name_prefix=ga_in_co", "+ echo ga_in_container1", "+ rev", "+ cut -c1-2", "+ rev", "+ short_name_suffix=r1", "+ short_name=ga_in_co_r1", "+ ip link add ga_in_co_r1 type veth peer name v_ga_in_co_r1", "RTNETLINK answers: File exists", "+ ip link set v_ga_in_co_r1 up", "+ ip link set v_ga_in_co_r1 master ga_in_S2_br", "+ ip link set ga_in_co_r1 netns ga_in_container1", "Cannot find device \"ga_in_co_r1\"", "+ ip netns exec ga_in_container1 ip link set ga_in_co_r1 up", "+ docker exec ga_in_container1 dhclient ga_in_co_r1", "hostname: you must be root to change the host name"], "_ansible_no_log": null, "failed_when_result": false, "item": "ga_in_S2", "ansible_loop_var": "item", "_ansible_item_label": "ga_in_S2"}, "uuid": "b491cd94-51cf-48b0-a743-4b9544cb9e68"}}