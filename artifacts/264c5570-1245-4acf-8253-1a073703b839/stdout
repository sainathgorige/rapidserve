[0;34mansible-playbook [core 2.14.2][0m
[0;34m  config file = None[0m
[0;34m  configured module search path = ['/home/vmadm/.ansible/plugins/modules', '/usr/share/ansible/plugins/modules'][0m
[0;34m  ansible python module location = /usr/lib/python3/dist-packages/ansible[0m
[0;34m  ansible collection location = /home/vmadm/.ansible/collections:/usr/share/ansible/collections[0m
[0;34m  executable location = /usr/bin/ansible-playbook[0m
[0;34m  python version = 3.11.4 (main, Dec  7 2023, 15:43:41) [GCC 12.3.0] (/usr/bin/python3)[0m
[0;34m  jinja version = 3.1.2[0m
[0;34m  libyaml = True[0m
[0;34mNo config file found; using defaults[0m
[0;34mhost_list declined parsing /home/vmadm/demo/RapidServe/southbound/host_inventory_asia.ini as it did not pass its verify_file() method[0m
[0;34mscript declined parsing /home/vmadm/demo/RapidServe/southbound/host_inventory_asia.ini as it did not pass its verify_file() method[0m
[0;34mauto declined parsing /home/vmadm/demo/RapidServe/southbound/host_inventory_asia.ini as it did not pass its verify_file() method[0m
[0;34myaml declined parsing /home/vmadm/demo/RapidServe/southbound/host_inventory_asia.ini as it did not pass its verify_file() method[0m
[0;34mParsed /home/vmadm/demo/RapidServe/southbound/host_inventory_asia.ini inventory source with ini plugin[0m
[0;34mSkipping callback 'awx_display', as we already have a stdout callback.[0m
[0;34mSkipping callback 'default', as we already have a stdout callback.[0m
[0;34mSkipping callback 'minimal', as we already have a stdout callback.[0m
[0;34mSkipping callback 'oneline', as we already have a stdout callback.[0m

PLAYBOOK: deploy_vpc.yaml ******************************************************
[0;34m1 plays in /home/vmadm/demo/RapidServe/southbound/deploy_vpc.yaml[0m

PLAY [Deploy VPC Infrastructure with network namespace] ************************

TASK [Create namespaces for each VPC] ******************************************
[1;30mtask path: /home/vmadm/demo/RapidServe/southbound/deploy_vpc.yaml:8[0m
[0;34m<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: vmadm[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'echo ~vmadm && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/vmadm/.ansible/tmp `"&& mkdir "` echo /home/vmadm/.ansible/tmp/ansible-tmp-1713690297.9356465-3492842-218424272604524 `" && echo ansible-tmp-1713690297.9356465-3492842-218424272604524="` echo /home/vmadm/.ansible/tmp/ansible-tmp-1713690297.9356465-3492842-218424272604524 `" ) && sleep 0'[0m
[0;34mUsing module file /usr/lib/python3/dist-packages/ansible/modules/command.py[0m
[0;34m<127.0.0.1> PUT /home/vmadm/.ansible/tmp/ansible-local-3492838kkw6lrn2/tmpq6l_7pxh TO /home/vmadm/.ansible/tmp/ansible-tmp-1713690297.9356465-3492842-218424272604524/AnsiballZ_command.py[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/vmadm/.ansible/tmp/ansible-tmp-1713690297.9356465-3492842-218424272604524/ /home/vmadm/.ansible/tmp/ansible-tmp-1713690297.9356465-3492842-218424272604524/AnsiballZ_command.py && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'sudo -H -S -n  -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-roukxtwqjhbgcrwtegokzhgkrjroleev ; /usr/bin/python3 /home/vmadm/.ansible/tmp/ansible-tmp-1713690297.9356465-3492842-218424272604524/AnsiballZ_command.py'"'"' && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/vmadm/.ansible/tmp/ansible-tmp-1713690297.9356465-3492842-218424272604524/ > /dev/null 2>&1 && sleep 0'[0m
[0;33mchanged: [localhost] => {[0m
[0;33m    "changed": true,[0m
[0;33m    "cmd": [[0m
[0;33m        "ip",[0m
[0;33m        "netns",[0m
[0;33m        "add",[0m
[0;33m        "ta_in"[0m
[0;33m    ],[0m
[0;33m    "delta": "0:00:00.023347",[0m
[0;33m    "end": "2024-04-21 09:04:58.343228",[0m
[0;33m    "invocation": {[0m
[0;33m        "module_args": {[0m
[0;33m            "_raw_params": "ip netns add ta_in",[0m
[0;33m            "_uses_shell": false,[0m
[0;33m            "argv": null,[0m
[0;33m            "chdir": null,[0m
[0;33m            "creates": null,[0m
[0;33m            "executable": null,[0m
[0;33m            "removes": null,[0m
[0;33m            "stdin": null,[0m
[0;33m            "stdin_add_newline": true,[0m
[0;33m            "strip_empty_ends": true[0m
[0;33m        }[0m
[0;33m    },[0m
[0;33m    "msg": "",[0m
[0;33m    "rc": 0,[0m
[0;33m    "start": "2024-04-21 09:04:58.319881",[0m
[0;33m    "stderr": "",[0m
[0;33m    "stderr_lines": [],[0m
[0;33m    "stdout": "",[0m
[0;33m    "stdout_lines": [][0m
[0;33m}[0m

TASK [Get /30 subnet for current VPC] ******************************************
[1;30mtask path: /home/vmadm/demo/RapidServe/southbound/deploy_vpc.yaml:11[0m
[0;34m<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: vmadm[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'echo ~vmadm && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/vmadm/.ansible/tmp `"&& mkdir "` echo /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.4538193-3492877-69467826102757 `" && echo ansible-tmp-1713690298.4538193-3492877-69467826102757="` echo /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.4538193-3492877-69467826102757 `" ) && sleep 0'[0m
[0;34mUsing module file /usr/lib/python3/dist-packages/ansible/modules/command.py[0m
[0;34m<127.0.0.1> PUT /home/vmadm/.ansible/tmp/ansible-local-3492838kkw6lrn2/tmpr5aylm0j TO /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.4538193-3492877-69467826102757/AnsiballZ_command.py[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.4538193-3492877-69467826102757/ /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.4538193-3492877-69467826102757/AnsiballZ_command.py && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'sudo -H -S -n  -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-hstzodvpoxjkkfvumuhyvilmzgzudhfw ; /usr/bin/python3 /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.4538193-3492877-69467826102757/AnsiballZ_command.py'"'"' && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.4538193-3492877-69467826102757/ > /dev/null 2>&1 && sleep 0'[0m
[0;33mchanged: [localhost] => {[0m
[0;33m    "changed": true,[0m
[0;33m    "cmd": [[0m
[0;33m        "python3",[0m
[0;33m        "subnetting.py",[0m
[0;33m        "192.168.100.0/24"[0m
[0;33m    ],[0m
[0;33m    "delta": "0:00:00.048885",[0m
[0;33m    "end": "2024-04-21 09:04:58.777492",[0m
[0;33m    "invocation": {[0m
[0;33m        "module_args": {[0m
[0;33m            "_raw_params": "python3 subnetting.py 192.168.100.0/24",[0m
[0;33m            "_uses_shell": false,[0m
[0;33m            "argv": null,[0m
[0;33m            "chdir": null,[0m
[0;33m            "creates": null,[0m
[0;33m            "executable": null,[0m
[0;33m            "removes": null,[0m
[0;33m            "stdin": null,[0m
[0;33m            "stdin_add_newline": true,[0m
[0;33m            "strip_empty_ends": true[0m
[0;33m        }[0m
[0;33m    },[0m
[0;33m    "msg": "",[0m
[0;33m    "rc": 0,[0m
[0;33m    "start": "2024-04-21 09:04:58.728607",[0m
[0;33m    "stderr": "",[0m
[0;33m    "stderr_lines": [],[0m
[0;33m    "stdout": "Allocated subnet: 192.168.100.240/30",[0m
[0;33m    "stdout_lines": [[0m
[0;33m        "Allocated subnet: 192.168.100.240/30"[0m
[0;33m    ][0m
[0;33m}[0m

TASK [Debug vpc subnet output] *************************************************
[1;30mtask path: /home/vmadm/demo/RapidServe/southbound/deploy_vpc.yaml:15[0m
[0;32mok: [localhost] => {[0m
[0;32m    "msg": "Subnet for ta_in: Allocated subnet: 192.168.100.240/30"[0m
[0;32m}[0m

TASK [Create veth pair for current VPC] ****************************************
[1;30mtask path: /home/vmadm/demo/RapidServe/southbound/deploy_vpc.yaml:19[0m
[0;34m<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: vmadm[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'echo ~vmadm && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/vmadm/.ansible/tmp `"&& mkdir "` echo /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.9485743-3492909-55552446197435 `" && echo ansible-tmp-1713690298.9485743-3492909-55552446197435="` echo /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.9485743-3492909-55552446197435 `" ) && sleep 0'[0m
[0;34mUsing module file /usr/lib/python3/dist-packages/ansible/modules/command.py[0m
[0;34m<127.0.0.1> PUT /home/vmadm/.ansible/tmp/ansible-local-3492838kkw6lrn2/tmpbjgcj40d TO /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.9485743-3492909-55552446197435/AnsiballZ_command.py[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.9485743-3492909-55552446197435/ /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.9485743-3492909-55552446197435/AnsiballZ_command.py && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'sudo -H -S -n  -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-pmyjbfmkzdjyolyftignljntpxdsnlyv ; /usr/bin/python3 /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.9485743-3492909-55552446197435/AnsiballZ_command.py'"'"' && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/vmadm/.ansible/tmp/ansible-tmp-1713690298.9485743-3492909-55552446197435/ > /dev/null 2>&1 && sleep 0'[0m
[0;33mchanged: [localhost] => {[0m
[0;33m    "changed": true,[0m
[0;33m    "cmd": [[0m
[0;33m        "ip",[0m
[0;33m        "link",[0m
[0;33m        "add",[0m
[0;33m        "ta_in_veth0",[0m
[0;33m        "type",[0m
[0;33m        "veth",[0m
[0;33m        "peer",[0m
[0;33m        "name",[0m
[0;33m        "ta_in_veth1"[0m
[0;33m    ],[0m
[0;33m    "delta": "0:00:00.013297",[0m
[0;33m    "end": "2024-04-21 09:04:59.246288",[0m
[0;33m    "invocation": {[0m
[0;33m        "module_args": {[0m
[0;33m            "_raw_params": "ip link add ta_in_veth0 type veth peer name ta_in_veth1\n",[0m
[0;33m            "_uses_shell": false,[0m
[0;33m            "argv": null,[0m
[0;33m            "chdir": null,[0m
[0;33m            "creates": null,[0m
[0;33m            "executable": null,[0m
[0;33m            "removes": null,[0m
[0;33m            "stdin": null,[0m
[0;33m            "stdin_add_newline": true,[0m
[0;33m            "strip_empty_ends": true[0m
[0;33m        }[0m
[0;33m    },[0m
[0;33m    "msg": "",[0m
[0;33m    "rc": 0,[0m
[0;33m    "start": "2024-04-21 09:04:59.232991",[0m
[0;33m    "stderr": "",[0m
[0;33m    "stderr_lines": [],[0m
[0;33m    "stdout": "",[0m
[0;33m    "stdout_lines": [][0m
[0;33m}[0m

TASK [Activate veth0 in default namespace] *************************************
[1;30mtask path: /home/vmadm/demo/RapidServe/southbound/deploy_vpc.yaml:23[0m
[0;34m<127.0.0.1> ESTABLISH LOCAL CONNECTION FOR USER: vmadm[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'echo ~vmadm && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c '( umask 77 && mkdir -p "` echo /home/vmadm/.ansible/tmp `"&& mkdir "` echo /home/vmadm/.ansible/tmp/ansible-tmp-1713690299.3828235-3492976-150502427877896 `" && echo ansible-tmp-1713690299.3828235-3492976-150502427877896="` echo /home/vmadm/.ansible/tmp/ansible-tmp-1713690299.3828235-3492976-150502427877896 `" ) && sleep 0'[0m
[0;34mUsing module file /usr/lib/python3/dist-packages/ansible/modules/command.py[0m
[0;34m<127.0.0.1> PUT /home/vmadm/.ansible/tmp/ansible-local-3492838kkw6lrn2/tmpazc8vq93 TO /home/vmadm/.ansible/tmp/ansible-tmp-1713690299.3828235-3492976-150502427877896/AnsiballZ_command.py[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'chmod u+x /home/vmadm/.ansible/tmp/ansible-tmp-1713690299.3828235-3492976-150502427877896/ /home/vmadm/.ansible/tmp/ansible-tmp-1713690299.3828235-3492976-150502427877896/AnsiballZ_command.py && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'sudo -H -S -n  -u root /bin/sh -c '"'"'echo BECOME-SUCCESS-psczmzqclsmazxdagipmyconwulkfrzs ; /usr/bin/python3 /home/vmadm/.ansible/tmp/ansible-tmp-1713690299.3828235-3492976-150502427877896/AnsiballZ_command.py'"'"' && sleep 0'[0m
[0;34m<127.0.0.1> EXEC /bin/sh -c 'rm -f -r /home/vmadm/.ansible/tmp/ansible-tmp-1713690299.3828235-3492976-150502427877896/ > /dev/null 2>&1 && sleep 0'[0m
[0;33mchanged: [localhost] => {[0m
[0;33m    "changed": true,[0m
[0;33m    "cmd": [[0m
[0;33m        "ip",[0m
[0;33m        "link",[0m
[0;33m        "set",[0m
[0;33m        "ta_in_veth0",[0m
[0;33m        "up"[0m
[0;33m    ],[0m
[0;33m    "delta": "0:00:00.011872",[0m
[0;33m    "end": "2024-04-21 09:04:59.684366",[0m
[0;33m    "invocation": {[0m
[0;33m        "module_args": {[0m
[0;33m            "_raw_params": "ip link set ta_in_veth0 up",[0m
[0;33m            "_uses_shell": false,[0m
[0;33m            "argv": null,[0m
[0;33m            "chdir": null,[0m
[0;33m            "creates": null,[0m
[0;33m            "executable": null,[0m
[0;33m            "removes": null,[0m
[0;33m            "stdin": null,[0m
[0;33m            "stdin_add_newline": true,[0m
[0;33m            "strip_empty_ends": true[0m
[0;33m        }[0m
[0;33m    },[0m
[0;33m    "msg": "",[0m
[0;33m    "rc": 0,[0m
[0;33m    "start": "2024-04-21 09:04:59.672494",[0m
[0;33m    "stderr": "",[0m
[0;33m    "stderr_lines": [],[0m
[0;33m    "stdout": "",[0m
[0;33m    "stdout_lines": [][0m
[0;33m}[0m

TASK [Assign IP to veth0 in the default namespace] *****************************
[1;30mtask path: /home/vmadm/demo/RapidServe/southbound/deploy_vpc.yaml:26[0m
[0;34mredirecting (type: filter) ansible.builtin.ipmath to ansible.netcommon.ipmath[0m
[0;35m[DEPRECATION WARNING]: Use 'ansible.utils.ipmath' module instead. This feature [0m
[0;35mwill be removed from ansible.netcommon in a release after 2024-01-01. [0m
[0;35mDeprecation warnings can be disabled by setting deprecation_warnings=False in [0m
[0;35mansible.cfg.[0m
[0;34mredirecting (type: filter) ansible.netcommon.ipmath to ansible.utils.ipmath[0m
[0;34mredirecting (type: filter) ansible.builtin.ipaddr to ansible.netcommon.ipaddr[0m
[0;35m[DEPRECATION WARNING]: Use 'ansible.utils.ipaddr' module instead. This feature [0m
[0;35mwill be removed from ansible.netcommon in a release after 2024-01-01. [0m
[0;35mDeprecation warnings can be disabled by setting deprecation_warnings=False in [0m
[0;35mansible.cfg.[0m
[0;34mredirecting (type: filter) ansible.netcommon.ipaddr to ansible.utils.ipaddr[0m
[0;31mfatal: [localhost]: FAILED! => {[0m
[0;31m    "msg": "You must pass a valid IP address; False is invalid"[0m
[0;31m}[0m

PLAY RECAP *********************************************************************
[0;31mlocalhost[0m                  : [0;32mok=5   [0m [0;33mchanged=4   [0m unreachable=0    [0;31mfailed=1   [0m skipped=0    rescued=0    ignored=0   
